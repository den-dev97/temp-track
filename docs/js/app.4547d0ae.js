(function(){"use strict";var e={2517:function(e,t,n){var o=n(9242),r=n(3396),u=(0,r.aZ)({__name:"App",setup(e){return console.log("We are in production mode"),(e,t)=>{const n=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)("main",null,[(0,r.Wm)(n)])}}});const a=u;var i=a,l=n(2483),c=(n(7658),n(4870)),s=n(7139),d=n(65);const p={key:0,class:"modal"},f={class:"modal-content"};var v=(0,r.aZ)({__name:"ModalWindow",props:{isOpen:{type:Boolean,default:!1,required:!0}},emits:["update:isOpen"],setup(e,{emit:t}){const n=e,u=()=>{t("update:isOpen",!1)};return(e,t)=>((0,r.wg)(),(0,r.j4)(o.uT,{name:"fade"},{default:(0,r.w5)((()=>[n.isOpen?((0,r.wg)(),(0,r.iD)("div",p,[(0,r._)("div",f,[(0,r.WI)(e.$slots,"default"),(0,r._)("button",{class:"close-btn",onClick:u},"✖")])])):(0,r.kq)("",!0)])),_:3}))}}),m=n(89);const _=(0,m.Z)(v,[["__scopeId","data-v-14c7823c"]]);var b=_;const h={class:"table-container"},g=(0,r._)("h1",null,"Список показаний",-1),w={class:"table"},k=(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",null,"№"),(0,r._)("th",null,"ID"),(0,r._)("th",null,"Температура"),(0,r._)("th",null,"Действия")])],-1),O=["onClick"],y=["onClick"],C=(0,r._)("h2",null,"Вы уверены, что хотите удалить это показание?",-1);var S=(0,r.aZ)({__name:"ListPage",setup(e){const t=(0,d.oR)(),n=(0,l.tv)(),u=(0,c.iH)(!1),a=(0,c.iH)(null),i=(0,r.Fl)((()=>t.state.records));function p(){t.commit("removeRecord",a.value),u.value=!1,a.value=null}return(e,t)=>((0,r.wg)(),(0,r.iD)("section",h,[g,(0,r._)("button",{onClick:t[0]||(t[0]=e=>(0,c.SU)(n).push("/edit"))},"Создать новую запись"),(0,r._)("table",w,[k,(0,r.Wm)(o.W3,{tag:"tbody",name:"list"},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.value,((e,t)=>((0,r.wg)(),(0,r.iD)("tr",{key:e.id},[(0,r._)("td",null,(0,s.zw)(i.value.length-t),1),(0,r._)("td",null,(0,s.zw)(e.id.toString().slice(-3)),1),(0,r._)("td",null,(0,s.zw)(e.temperature),1),(0,r._)("td",null,[(0,r._)("button",{onClick:t=>(0,c.SU)(n).push(`/edit/${e.id}`)},"Изменить",8,O),(0,r._)("button",{onClick:t=>{a.value=e.id,u.value=!0}},"Удалить",8,y)])])))),128))])),_:1}),(0,r.Wm)(b,{isOpen:u.value,"onUpdate:isOpen":t[2]||(t[2]=e=>u.value=e)},{default:(0,r.w5)((()=>[C,(0,r._)("button",{onClick:p},"Да"),(0,r._)("button",{onClick:t[1]||(t[1]=e=>u.value=!1)},"Нет")])),_:1},8,["isOpen"])])]))}});const U=S;var R=U;const D=e=>((0,r.dD)("data-v-26f01816"),e=e(),(0,r.Cn)(),e),j={class:"create-or-add"},I={class:"btns-container"},N=D((()=>(0,r._)("h2",null,"Вы уверены, что хотите удалить это показание?",-1)));var W=(0,r.aZ)({__name:"CreateOrUpdateRecord",setup(e){const t=(0,d.oR)(),n=(0,l.tv)(),u=(0,l.yj)(),a=(0,c.iH)(""),i=Number(u.params.id),p=t.state.records.find((e=>e.id===i)),f=(0,c.iH)(!1);function v(){if(p)p.temperature=Number(a.value),t.commit("updateRecord",p);else{const e={id:Date.now(),temperature:Number(a.value)};t.commit("addRecord",e)}n.push("/")}function m(){t.commit("removeRecord",i),n.push("/")}return(0,r.bv)((()=>{p&&(a.value=p.temperature)})),(e,t)=>((0,r.wg)(),(0,r.iD)("section",j,[(0,r._)("h1",null,(0,s.zw)((0,c.SU)(p)?"Изменить показание":"Добавить показание"),1),(0,r.wy)((0,r._)("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),placeholder:"Температура"},null,512),[[o.nr,a.value]]),(0,r._)("div",I,[(0,r._)("button",{onClick:v},(0,s.zw)((0,c.SU)(p)?"Сохранить":"Добавить"),1),(0,r._)("button",{onClick:t[1]||(t[1]=e=>(0,c.SU)(n).push("/"))},"Отменить"),(0,c.SU)(p)?((0,r.wg)(),(0,r.iD)("button",{key:0,onClick:t[2]||(t[2]=e=>f.value=!0)},"Удалить")):(0,r.kq)("",!0)]),(0,c.SU)(p)?((0,r.wg)(),(0,r.j4)(b,{key:0,isOpen:f.value,"onUpdate:isOpen":t[4]||(t[4]=e=>f.value=e)},{default:(0,r.w5)((()=>[N,(0,r._)("button",{onClick:m},"Да"),(0,r._)("button",{onClick:t[3]||(t[3]=e=>f.value=!1)},"Нет")])),_:1},8,["isOpen"])):(0,r.kq)("",!0)]))}});const x=(0,m.Z)(W,[["__scopeId","data-v-26f01816"]]);var Z=x;const z=[{path:"/",name:"ListPage",component:()=>R},{path:"/edit/:id?",name:"CreateOrUpdateRecord",component:()=>Z}],H=(0,l.p7)({history:(0,l.r5)(),routes:z});var q=H,J=(0,d.MT)({state:{records:JSON.parse(localStorage.getItem("records")||"[]")},mutations:{addRecord(e,t){e.records.unshift(t),localStorage.setItem("records",JSON.stringify(e.records))},removeRecord(e,t){e.records=e.records.filter((e=>e.id!==t)),localStorage.setItem("records",JSON.stringify(e.records))},updateRecord(e,t){const n=e.records.findIndex((e=>e.id===t.id));n>-1&&(e.records[n]=t,localStorage.setItem("records",JSON.stringify(e.records)))}},actions:{},modules:{}});function P(){const e=(0,o.ri)(i);e.use(q),e.use(J),e.mount("#app")}P()}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var u=t[o]={exports:{}};return e[o].call(u.exports,u,u.exports,n),u.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,u){if(!o){var a=1/0;for(s=0;s<e.length;s++){o=e[s][0],r=e[s][1],u=e[s][2];for(var i=!0,l=0;l<o.length;l++)(!1&u||a>=u)&&Object.keys(n.O).every((function(e){return n.O[e](o[l])}))?o.splice(l--,1):(i=!1,u<a&&(a=u));if(i){e.splice(s--,1);var c=r();void 0!==c&&(t=c)}}return t}u=u||0;for(var s=e.length;s>0&&e[s-1][2]>u;s--)e[s]=e[s-1];e[s]=[o,r,u]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,u,a=o[0],i=o[1],l=o[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(l)var s=l(n)}for(t&&t(o);c<a.length;c++)u=a[c],n.o(e,u)&&e[u]&&e[u][0](),e[u]=0;return n.O(s)},o=self["webpackChunktemp_track"]=self["webpackChunktemp_track"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(2517)}));o=n.O(o)})();
//# sourceMappingURL=app.4547d0ae.js.map