(function(){"use strict";var e={5834:function(e,t,n){var o=n(9242),r=n(3396);function u(e,t){const n=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)("main",null,[(0,r.Wm)(n)])}var a=n(89);const i={},l=(0,a.Z)(i,[["render",u]]);var c=l,s=n(2483),d=(n(7658),n(4870)),p=n(7139),f=n(65);const v={key:0,class:"modal"},m={class:"modal-content"};var _=(0,r.aZ)({__name:"ModalWindow",props:{isOpen:{type:Boolean,default:!1,required:!0}},emits:["update:isOpen"],setup(e,{emit:t}){const n=e,u=()=>{t("update:isOpen",!1)};return(e,t)=>((0,r.wg)(),(0,r.j4)(o.uT,{name:"fade"},{default:(0,r.w5)((()=>[n.isOpen?((0,r.wg)(),(0,r.iD)("div",v,[(0,r._)("div",m,[(0,r.WI)(e.$slots,"default"),(0,r._)("button",{class:"close-btn",onClick:u},"✖")])])):(0,r.kq)("",!0)])),_:3}))}});const b=(0,a.Z)(_,[["__scopeId","data-v-14c7823c"]]);var h=b;const g={class:"table-container"},w=(0,r._)("h1",null,"Список показаний",-1),O={class:"table"},k=(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",null,"№"),(0,r._)("th",null,"ID"),(0,r._)("th",null,"Температура"),(0,r._)("th",null,"Действия")])],-1),y=["onClick"],C=["onClick"],S=(0,r._)("h2",null,"Вы уверены, что хотите удалить это показание?",-1);var U=(0,r.aZ)({__name:"ListPage",setup(e){const t=(0,f.oR)(),n=(0,s.tv)(),u=(0,d.iH)(!1),a=(0,d.iH)(null),i=(0,r.Fl)((()=>t.state.records));function l(){t.commit("removeRecord",a.value),u.value=!1,a.value=null}return(e,t)=>((0,r.wg)(),(0,r.iD)("section",g,[w,(0,r._)("button",{onClick:t[0]||(t[0]=e=>(0,d.SU)(n).push("/edit"))},"Создать новую запись"),(0,r._)("table",O,[k,(0,r.Wm)(o.W3,{tag:"tbody",name:"list"},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.value,((e,t)=>((0,r.wg)(),(0,r.iD)("tr",{key:e.id},[(0,r._)("td",null,(0,p.zw)(i.value.length-t),1),(0,r._)("td",null,(0,p.zw)(e.id.toString().slice(-3)),1),(0,r._)("td",null,(0,p.zw)(e.temperature),1),(0,r._)("td",null,[(0,r._)("button",{onClick:t=>(0,d.SU)(n).push(`/edit/${e.id}`)},"Изменить",8,y),(0,r._)("button",{onClick:t=>{a.value=e.id,u.value=!0}},"Удалить",8,C)])])))),128))])),_:1}),(0,r.Wm)(h,{isOpen:u.value,"onUpdate:isOpen":t[2]||(t[2]=e=>u.value=e)},{default:(0,r.w5)((()=>[S,(0,r._)("button",{onClick:l},"Да"),(0,r._)("button",{onClick:t[1]||(t[1]=e=>u.value=!1)},"Нет")])),_:1},8,["isOpen"])])]))}});const R=U;var D=R;const j=e=>((0,r.dD)("data-v-26f01816"),e=e(),(0,r.Cn)(),e),I={class:"create-or-add"},N={class:"btns-container"},x=j((()=>(0,r._)("h2",null,"Вы уверены, что хотите удалить это показание?",-1)));var W=(0,r.aZ)({__name:"CreateOrUpdateRecord",setup(e){const t=(0,f.oR)(),n=(0,s.tv)(),u=(0,s.yj)(),a=(0,d.iH)(""),i=Number(u.params.id),l=t.state.records.find((e=>e.id===i)),c=(0,d.iH)(!1);function v(){if(l)l.temperature=Number(a.value),t.commit("updateRecord",l);else{const e={id:Date.now(),temperature:Number(a.value)};t.commit("addRecord",e)}n.push("/")}function m(){t.commit("removeRecord",i),n.push("/")}return(0,r.bv)((()=>{l&&(a.value=l.temperature)})),(e,t)=>((0,r.wg)(),(0,r.iD)("section",I,[(0,r._)("h1",null,(0,p.zw)((0,d.SU)(l)?"Изменить показание":"Добавить показание"),1),(0,r.wy)((0,r._)("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),placeholder:"Температура"},null,512),[[o.nr,a.value]]),(0,r._)("div",N,[(0,r._)("button",{onClick:v},(0,p.zw)((0,d.SU)(l)?"Сохранить":"Добавить"),1),(0,r._)("button",{onClick:t[1]||(t[1]=e=>(0,d.SU)(n).push("/"))},"Отменить"),(0,d.SU)(l)?((0,r.wg)(),(0,r.iD)("button",{key:0,onClick:t[2]||(t[2]=e=>c.value=!0)},"Удалить")):(0,r.kq)("",!0)]),(0,d.SU)(l)?((0,r.wg)(),(0,r.j4)(h,{key:0,isOpen:c.value,"onUpdate:isOpen":t[4]||(t[4]=e=>c.value=e)},{default:(0,r.w5)((()=>[x,(0,r._)("button",{onClick:m},"Да"),(0,r._)("button",{onClick:t[3]||(t[3]=e=>c.value=!1)},"Нет")])),_:1},8,["isOpen"])):(0,r.kq)("",!0)]))}});const Z=(0,a.Z)(W,[["__scopeId","data-v-26f01816"]]);var z=Z;const H=[{path:"/",name:"ListPage",component:()=>D},{path:"/edit/:id?",name:"CreateOrUpdateRecord",component:()=>z}],P=(0,s.p7)({history:(0,s.PO)(),routes:H});var q=P,J=(0,f.MT)({state:{records:JSON.parse(localStorage.getItem("records")||"[]")},mutations:{addRecord(e,t){e.records.unshift(t),localStorage.setItem("records",JSON.stringify(e.records))},removeRecord(e,t){e.records=e.records.filter((e=>e.id!==t)),localStorage.setItem("records",JSON.stringify(e.records))},updateRecord(e,t){const n=e.records.findIndex((e=>e.id===t.id));n>-1&&(e.records[n]=t,localStorage.setItem("records",JSON.stringify(e.records)))}},actions:{},modules:{}});function T(){const e=(0,o.ri)(c);e.use(q),e.use(J),e.mount("#app")}T()}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var u=t[o]={exports:{}};return e[o].call(u.exports,u,u.exports,n),u.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,u){if(!o){var a=1/0;for(s=0;s<e.length;s++){o=e[s][0],r=e[s][1],u=e[s][2];for(var i=!0,l=0;l<o.length;l++)(!1&u||a>=u)&&Object.keys(n.O).every((function(e){return n.O[e](o[l])}))?o.splice(l--,1):(i=!1,u<a&&(a=u));if(i){e.splice(s--,1);var c=r();void 0!==c&&(t=c)}}return t}u=u||0;for(var s=e.length;s>0&&e[s-1][2]>u;s--)e[s]=e[s-1];e[s]=[o,r,u]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,u,a=o[0],i=o[1],l=o[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(l)var s=l(n)}for(t&&t(o);c<a.length;c++)u=a[c],n.o(e,u)&&e[u]&&e[u][0](),e[u]=0;return n.O(s)},o=self["webpackChunktemp_track"]=self["webpackChunktemp_track"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(5834)}));o=n.O(o)})();
//# sourceMappingURL=app.41cc2146.js.map